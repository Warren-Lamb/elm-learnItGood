<html>
<head>
  <style>
    /* you can style your program here */
  </style>
</head>
<body>
  <main></main>
    <div id="js-app">
      <fieldset>
        <legend>JS Stuff</legend>
        <button id="a">Send an Int to Elm</button>
        <div id="from-elm"></div>
      </fieldset>
    </div>
  <script src="elm.js"></script>
  <script>
    var app = Elm.Main.init({ node: document.querySelector('main')});

    let count = 0;
    document.getElementById('a').addEventListener('click', () => {
      app.ports.portIntoElm.send(++count)
    })


    app.ports.setLocalStorageItem.subscribe(function(item){
      localStorage.setItem(item.key, item.value);
    })

    app.ports.getLocalStorageItem.subscribe(function(key){
      let value = localStorage.getItem(key);
      app.ports.gotLocalStorageItem.send({key: key, value: value});
    })



   /* app.ports.storeVal.subscribe(function(data) {
    localStorage.setItem('sentVal', JSON.stringify(data));
    });
    /*app.ports.toJs.subscribe(data => {
      console.log(data)
      setTimeout(() => app.ports.toElm.send(data), 4000)
    })*/

  </script>
</body>
</html>


